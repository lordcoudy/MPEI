/* Родители: */
parent("Mikhail Fedorovich", "Alexey Mikhailovich").
parent("Evdokia Lukyanova", "Alexey Mikhailovich").

parent("Alexey Mikhailovich", "Feodor Alekseevich").
parent("Alexey Mikhailovich", "Sofya Alekseevna").
parent("Alexey Mikhailovich", "John 5 Alekseevich").
parent("Alexey Mikhailovich", "Peter 1 Alekseevich").
parent("Maria Ilyinichna Miloslavskaya", "Feodor Alekseevich").
parent("Maria Ilyinichna Miloslavskaya", "Sofya Alekseevna").
parent("Maria Ilyinichna Miloslavskaya", "John 5 Alekseevich").
parent("Natalia Kirillovna Naryshkina", "Peter 1 Alekseevich").

parent("John 5 Alekseevich", "Ekaterina Ioannovna").
parent("John 5 Alekseevich", "Anna Ioannovna").
parent("Praskovya Fedorovna Saltykova", "Ekaterina Ioannovna").
parent("Praskovya Fedorovna Saltykova", "Anna Ioannovna").
parent("Peter 1 Alekseevich", "Alexey Petrovich").
parent("Peter 1 Alekseevich", "Anna Petrovna").
parent("Peter 1 Alekseevich", "Elizabeth Petrovna").
parent("Evdokia Feodorovna Lopukhina", "Alexey Petrovich").
parent("Ekaterina 1 Alekseevna", "Anna Petrovna").
parent("Ekaterina 1 Alekseevna", "Elizabeth Petrovna").

parent("Ekaterina Ioannovna", "Anna Leopoldovna").
parent("Karl Leopold of Mecklenburg-Schwerin", "Anna Leopoldovna").
parent("Alexey Petrovich", "Peter 2 Alekseevich").
parent("Natalia Alekseevna Braunschweig-Wolfenbuttelskaya", "Peter 2 Alekseevich").
parent("Anna Petrovna", "Peter 3 Fyodorovich").
parent("Karl Friedrich of Holstein-Gottorp", "Peter 3 Fyodorovich").

parent("Anna Leopoldovna", "John 6 Antonovich").
parent("Anton Ulrich Brauschweig-Wolfenbuttelsky", "John 6 Antonovich").
parent("Peter 3 Fyodorovich", "Pavel 1 Petrovich").
parent("Ekaterina 2 Alekseevna", "Pavel 1 Petrovich").

parent("Pavel 1 Petrovich", "Alexander 1 Pavlovich").
parent("Pavel 1 Petrovich", "Nikolai 1 Pavlovich").
parent("Maria Feodorovna of Württemberg", "Alexander 1 Pavlovich").
parent("Maria Feodorovna of Württemberg", "Nikolai 1 Pavlovich").

parent("Nikolai 1 Pavlovich", "Alexander 2 Nikolaevich").
parent("Alexandra Feodorovna Prusskaya", "Alexander 2 Nikolaevich").

parent("Alexander 2 Nikolaevich", "Alexander 3 Alexandrovich").
parent("Maria Alexandrovna of Hesse", "Alexander 3 Alexandrovich").

parent("Alexander 3 Alexandrovich", "Nikolai 2 Alexandrovich").
parent("Maria Feodorovna of Denmark", "Nikolai 2 Alexandrovich").

/* Женщины: */
woman("Evdokia Lukyanova").

woman("Maria Ilyinichna Miloslavskaya").
woman("Natalia Kirillovna Naryshkina").

woman("Sofya Alekseevna").
woman("Marfa Matveevna Apraksina").
woman("Praskovya Fedorovna Saltykova").
woman("Evdokia Feodorovna Lopukhina").
woman("Ekaterina 1 Alekseevna").

woman("Ekaterina Ioannovna").
woman("Anna Ioannovna").
woman("Natalia Alekseevna Braunschweig-Wolfenbuttelskaya").
woman("Anna Petrovna").
woman("Elizabeth Petrovna").

woman("Anna Leopoldovna").
woman("Ekaterina 2 Alekseevna").

woman("Natalia Alekseevna Hesse-Darmstadt").
woman("Maria Feodorovna of Württemberg").

woman("Elizabeth Alekseevna").
woman("Alexandra Feodorovna Prusskaya").

woman("Maria Alexandrovna of Hesse").

woman("Maria Feodorovna of Denmark").

woman("Alexandra Feodorovna of Hesse").

/* Мужчины: */
man("Mikhail Fedorovich").

man("Alexey Mikhailovich").

man("Feodor Alekseevich").
man("John 5 Mikhailovich").
man("Peter 1 Alekseevich").

man("Karl Leopold of Mecklenburg-Schwerin").
man("Frederick William of Courland").
man("Alexey Petrovich").
man("Karl Friedrich of Holstein-Gottorp").

man("Anton Ulrich Brauschweig-Wolfenbuttelsky").
man("Peter 2 Alekseevich").
man("Peter 3 Fyodorovich").

man("John 6 Antonovich").
man("Pavel 1 Petrovich").

man("Alexander 1 Pavlovich").
man("Nikolai 1 Pavlovich").

man("Alexander 2 Nikolaevich").

man("Alexander 3 Alexandrovich").

man("Nikolai 2 Alexandrovich").

/* Брак: */
married("Mikhail Fedorovich", "Evdokia Lukyanova").

married("Alexey Mikhailovich", "Maria Ilyinichna Miloslavskaya").
married("Alexey Mikhailovich", "Natalia Kirillovna Naryshkina").

married("Feodor Alekseevich", "Marfa Matveevna Apraksina").
married("John 5 Alekseevich", "Praskovya Fedorovna Saltykova").
married("Peter 1 Alekseevich", "Evdokia Feodorovna Lopukhina").
married("Peter 1 Alekseevich", "Ekaterina 1 Alekseevna").
married("Karl Leopold of Mecklenburg-Schwerin", "Ekaterina Ioannovna").
married("Frederick William of Courland", "Anna Ioannovna").
married("Alexey Petrovich", "Natalia Alekseevna Braunschweig-Wolfenbuttelskaya").
married("Karl Friedrich of Holstein-Gottorp", "Anna Petrovna").

married("Anton Ulrich Brauschweig-Wolfenbuttelsky", "Anna Leopoldovna").
married("Peter 3 Fyodorovich", "Ekaterina 2 Alekseevna").

married("Pavel 1 Petrovich", "Natalia Alekseevna Hesse-Darmstadt").
married("Pavel 1 Petrovich", "Maria Feodorovna of Württemberg").
married("Alexander 1 Pavlovich", "Elizabeth Alekseevna").
married("Nikolai 1 Pavlovich", "Alexandra Feodorovna Prusskaya").

married("Alexander 2 Nikolaevich", "Maria Alexandrovna of Hesse").

married("Alexander 3 Alexandrovich", "Maria Feodorovna of Denmark").

married("Nikolai 2 Alexandrovich", "Alexandra Feodorovna of Hesse").

/* Правила: */

check_married(X, Y) :-		/* Женаты ли? */
	married(X, Y);
	married(Y, X). 

father(X, Y) :-				/* Отец */
	parent(X, Y),
	man(X).
mother(X, Y) :-				/* Мать */
	parent(X, Y),
	woman(X). 

brother(X, Y) :-			/* Брат */
	parent(Z, X),
	parent(Z, Y),
	man(X),
	X \= Y.
sister(X, Y) :-				/* Сестра */
	parent(Z, X),
	parent(Z, Y),
	woman(X),
	X \= Y. 
	
son(X, Y) :-				/* Сын */
	parent(Y, X),
	man(X).
daughter(X, Y) :-			/* Дочь */
	parent(Y, X),
	woman(X).

husband(X, Y) :-			/* Муж */
	check_married(X, Y),
	man(X).
wife(X, Y) :-				/* Жена */
	check_married(X, Y),
	woman(X). 

grandfather(X, Y) :-		/* Дедушка */
	parent(X, Z),
	parent(Z, Y),
	man(X).
grandmother(X, Y) :-		/* Бабушка */
	parent(X, Z),
	parent(Z, Y),
	woman(X). 

grandson(X, Y) :-			/* Внук */
	parent(Z, Y),
	parent(X, Z),
	man(Y).
granddaughter(X, Y) :-		/* Внучка */
	parent(Z, Y),
	parent(X, Z),
	woman(Y). 

predecessor(X, Y) :-		/* Ближний предок */
	parent(X, Y).
predecessor(X, Y) :-		/* Дальний (рекурсивный) предок */
	parent(X, Z),
	predecessor(Z, Y). 
	
/* Примеры использования:
	?- father("Karl Leopold of Mecklenburg-Schwerin", "Anna Leopoldovna").							true
	?- mother("Natalia Alekseevna Braunschweig-Wolfenbuttelskaya", "Peter 2 Alekseevich").			true
	?- mother("Natalia Alekseevna Braunschweig-Wolfenbuttelskaya", "Nikolai 2 Alexandrovich").		false
	?- brother("Feodor Alekseevich", "John 5 Alekseevich").											true
	?- sister("Ekaterina Ioannovna", "Anna Ioannovna").												true
	?- son("Nikolai 2 Alexandrovich", "Alexander 3 Alexandrovich").									true
	?- daughter("Elizabeth Petrovna", "Alexander 3 Alexandrovich").									false
	?- daughter("Elizabeth Petrovna", "Ekaterina 1 Alekseevna").									true
	?- husband("Alexander 1 Pavlovich", "Elizabeth Alekseevna").									true
	?- wife("Feodor Alekseevich", "Marfa Matveevna Apraksina").										true
	?- grandson("Alexander 2 Nikolaevich", "Nikolai 2 Alexandrovich").								true
	?- granddaughter("Alexey Mikhailovich", "Anna Ioannovna").										true
	?- predecessor("Peter 1 Alekseevich", "Alexey Petrovich").										true
*/